/*! angular-grunt-foundation 2016-02-09 */
var app=angular.module("myApp",["ngRoute","ngAnimate","ui.router","ui.bootstrap"]);app.controller("mainCtrl",["$scope","$http",function(a,b){console.log("Inne i mainCtrl")}]),app.directive("loading",function(){return{restrict:"E",replace:!0,template:'<div class="respCenter loading"><span>Laddar</span><img src="images/ajax-loader.gif" class="respCenterIcon"/></div>',link:function(a,b,c){a.$watch("loading",function(a){a?$(b).show():$(b).hide()})}}}),app.factory("posts",["$http",function(a){var b={posts:[]};return b.get=function(b){return console.log("get post"),a.get("/posts/"+b).then(function(a){return a.data})},b.getAll=function(){return console.log("get all posts"),a.get("/posts/").success(function(a){angular.copy(a,b.posts)})},b.create=function(c){return a.post("/posts",c).success(function(a){console.log("data: ",a),b.posts.push(a)})},b.upvote=function(b){return a.put("/posts/"+b._id+"/upvote").success(function(a){b.upvotes+=1})},b.deleteItem=function(b){return a.put("/posts/"+b._id+"/delete").success(function(a){console.log("success!")})},b.addComment=function(b,c){return console.log("add comment"),a.post("/posts/"+b+"/comments",c)},b.upvoteComment=function(b,c){return a.put("/posts/"+b._id+"/comments/"+c._id+"/upvote").success(function(a){c.upvotes+=1})},b}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("home",{url:"/",templateUrl:"/index.html",controller:"mainController"}),b.otherwise("home")}]);